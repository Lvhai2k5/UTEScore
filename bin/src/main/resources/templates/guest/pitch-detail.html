<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title th:text="${pitch.tenSan}">Chi ti·∫øt s√¢n b√≥ng</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f8f9fa; }
        .pitch-header img { border-radius: 12px; width: 100%; height: 400px; object-fit: cover; }
        .badge-status { font-size: 0.9rem; }
        .review-card img { height: 200px; object-fit: cover; border-radius: 8px; }
    </style>
</head>
<body>

<!-- üîπ Header -->
<header class="bg-success text-white py-3">
    <div class="container d-flex justify-content-between align-items-center">
        <h3 class="fw-bold mb-0"><i class="fas fa-futbol me-2"></i>UTEScore</h3>
        <!--  <a th:href="@{/pitches}" class="btn btn-outline-light">‚Üê Quay l·∫°i danh s√°ch</a> -->
    </div>
</header>

<!-- ‚öΩ TH√îNG TIN CHI TI·∫æT S√ÇN -->
<section class="container my-5">
    <div class="row align-items-center">
        <div class="col-lg-6">
            <img th:src="${pitch.hinhAnh}" 
     alt="S√¢n b√≥ng" 
     style="width:100%; max-height:420px; object-fit:cover; border-radius:12px;">

        </div>
        <div class="col-lg-6">
            <h2 class="fw-bold text-success" th:text="${pitch.tenSan}"></h2>
            <p><b>üìç ƒê·ªãa ch·ªâ:</b> <span th:text="${pitch.diaChi}"></span></p>
            <p><b>Lo·∫°i s√¢n:</b> <span th:text="${pitch.loaiSan}"></span></p>
           
            <p><b>Khung gi·ªù c√≤n tr·ªëng:</b> <span th:text="${pitch.khungGioConTrong}"></span></p>
            <p>
                <b>Tr·∫°ng th√°i:</b>
                <span class="badge" th:classappend="${pitch.trangThai == 'HoatDong'} ? 'bg-success' : 'bg-secondary'"
                      th:text="${pitch.trangThai}"></span>
            </p>

            <div class="mt-4">
                <a th:href="@{/login}" class="btn btn-success px-4 py-2">
        			<i class="fas fa-calendar-plus me-2"></i>ƒê·∫∑t s√¢n ngay
    			</a>
               <a th:href="@{/pitches}" class="btn btn-outline-success px-4 py-2">
        	‚¨Ö Quay l·∫°i
    			</a>
            </div>
        </div>
    </div>
</section>

<!-- üí∞ B·∫¢NG GI√Å THEO KHUNG GI·ªú -->
<section class="container my-5">
  <h3 class="fw-bold text-success mb-4">üí∞ B·∫£ng gi√° theo khung gi·ªù</h3>

  <div class="row g-4" th:if="${prices != null and prices.size() > 0}">
    <div class="col-md-4" th:each="g : ${prices}">
      <div class="card shadow-sm border-0 h-100" style="border-radius:14px;">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <span class="badge bg-success">[[${pitch.loaiSan}]]</span>
            <span class="badge bg-warning text-dark" 
                  th:if="${g.moTa != null and #strings.containsIgnoreCase(g.moTa, 'cao ƒëi·ªÉm')}">Cao ƒëi·ªÉm</span>
          </div>

          <h5 class="mt-3 mb-1">
            [[${#temporals.format(g.khungGioBatDau, 'HH:mm')}]] - 
            [[${#temporals.format(g.khungGioKetThuc, 'HH:mm')}]]
          </h5>

          <div class="fs-4 fw-bold text-success">
            [[${#numbers.formatDecimal(g.giaThue, 0, 'POINT', 0, 'COMMA')}]] ƒë/gi·ªù
          </div>

          <p class="text-muted mt-2" th:text="${g.moTa}">M√¥ t·∫£</p>
          <small class="text-secondary">√Åp d·ª•ng t·ª´: 
            [[${#temporals.format(g.ngayApDung, 'dd/MM/yyyy HH:mm')}]]
          </small>
        </div>
      </div>
    </div>
  </div>

  <div class="alert alert-info" th:if="${prices == null or prices.size() == 0}">
    Ch∆∞a c√≥ b·∫£ng gi√° cho lo·∫°i s√¢n n√†y.
  </div>
</section>


<hr class="my-5">

<!-- ‚≠ê DANH S√ÅCH ƒê√ÅNH GI√Å -->
<section class="container mb-5">
    <div class="text-center mb-4">
        <h3 class="fw-bold text-success">‚≠ê ƒê√°nh gi√° c·ªßa ng∆∞·ªùi ch∆°i</h3>
        <p class="lead text-muted">ƒêi·ªÉm trung b√¨nh: <span th:text="${avgRating}"></span> / 5 ‚≠ê</p>
    </div>

    <div class="row g-4" th:if="${reviews.size() > 0}">
        <div class="col-md-4" th:each="r : ${reviews}">
            <div class="card review-card shadow-sm border-0">
                 <img th:src="@{${p.hinhAnh}}" class="card-img-top" alt="S√¢n b√≥ng" style="height:220px;object-fit:cover;">
                <div class="card-body">
                    <h5 th:text="${r.userName} + ' (' + ${r.userAge} + ' tu·ªïi)'"></h5>
                    <p class="text-warning fw-bold" th:text="${r.rating} + '/5 ‚≠ê'"></p>
                    <p th:text="${r.content}"></p>
                    <small class="text-muted">Ng√†y: <span th:text="${r.date}"></span></small>
                </div>
            </div>
        </div>
    </div>

    <div class="alert alert-info text-center" th:if="${reviews.size() == 0}">
        Ch∆∞a c√≥ ƒë√°nh gi√° n√†o cho s√¢n b√≥ng n√†y.
    </div>
</section>

<!-- üîπ Footer -->
<footer class="bg-success text-white text-center py-3">
    ¬© 2025 UTEScore | ƒê·∫∑t s√¢n b√≥ng d·ªÖ d√†ng ‚Äì Nhanh ‚Äì Ti·ªán l·ª£i
</footer>

<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</body>
</html>
