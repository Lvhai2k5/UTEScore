<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UTEScore – Lịch đặt sân</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #1e293b;
    display: flex;
    height: 100vh;
    overflow: hidden;
  }

  /* ===== SIDEBAR ===== */
  .sidebar {
    width: 270px;
    background: linear-gradient(180deg, #1e293b, #0f172a, #312e81);
    color: white;
    display: flex;
    flex-direction: column;
    box-shadow: 4px 0 24px rgba(0,0,0,0.4);
    overflow-y: auto;
  }
  .logo-section {
    padding: 24px 16px;
    border-bottom: 1px solid rgba(255,255,255,0.15);
  }
  .logo {
    font-size: 28px;
    font-weight: 800;
    text-align: center;
    background: linear-gradient(90deg, #38bdf8, #a78bfa, #f472b6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientShift 4s ease infinite;
  }
  @keyframes gradientShift {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  .staff-info {
    text-align: center;
    margin-top: 16px;
    background: rgba(255,255,255,0.07);
    border-radius: 16px;
    padding: 16px;
    box-shadow: 0 0 10px rgba(255,255,255,0.1);
  }
  .staff-avatar {
    width: 70px; height: 70px;
    border-radius: 50%;
    background: linear-gradient(135deg, #38bdf8, #8b5cf6);
    margin: 0 auto 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 30px; color: #fff;
    box-shadow: 0 0 20px rgba(59,130,246,0.7);
  }
  .staff-name { font-weight: 700; font-size: 16px; }
  .staff-role { font-size: 13px; color: #cbd5e1; }

  .menu {
    padding: 16px;
    flex: 1;
  }
  .menu-title {
    font-size: 13px;
    font-weight: 700;
    color: #94a3b8;
    margin: 12px 0;
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  .menu-link {
    display: flex;
    align-items: center;
    gap: 12px;
    color: white;
    text-decoration: none;
    background: rgba(255,255,255,0.08);
    padding: 12px 16px;
    border-radius: 12px;
    margin-bottom: 8px;
    font-size: 15px;
    transition: all 0.3s ease;
  }
  .menu-link:hover {
    background: linear-gradient(135deg, #38bdf8, #a855f7);
    transform: translateX(6px) scale(1.03);
    box-shadow: 0 0 15px rgba(168,85,247,0.5);
  }
  .menu-link.active {
    background: linear-gradient(135deg, #38bdf8, #f472b6);
    box-shadow: 0 0 20px rgba(236,72,153,0.6);
  }
  .menu-icon {
    font-size: 18px;
    width: 26px;
    text-align: center;
  }
/* ================================
   Schedule UI – Dreamy Neon Glass v3 (Pro Edition)
   ================================ */

/* ===== Vars ===== */
:root{
  --ink:#0f172a; --ink2:#1e293b; --muted:#94a3b8;
  --n1:#7c3aed; --n2:#2563eb; --n3:#22d3ee; --ng:#10b981; --nr:#ef4444; --np:#f43f5e;
  --soft:#f8fafc; --soft2:#eef2ff;
  --r-xl:24px; --r-lg:16px; --r-md:12px; --r-sm:10px;
  --glass:rgba(255,255,255,.75);
}

/* ===== Motion ===== */
@keyframes gradShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}
@keyframes sweep{0%{left:-70%;opacity:0}20%{opacity:.9}60%{left:110%;opacity:.9}100%{left:150%;opacity:0}}
@keyframes pulseGlow{
  0%,100%{box-shadow:0 10px 30px rgba(99,102,241,.22),0 0 18px rgba(168,85,247,.25)}
  50%{box-shadow:0 14px 40px rgba(99,102,241,.35),0 0 28px rgba(168,85,247,.35)}
}
@keyframes shimmer {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* ===== CONTENT ===== */
.content{
  flex:1;
  background:
    radial-gradient(900px 480px at 100% -10%, rgba(59,130,246,.12), transparent 70%),
    radial-gradient(900px 520px at -10% 120%, rgba(168,85,247,.12), transparent 70%),
    linear-gradient(#fff, var(--soft));
  margin:24px; border-radius:var(--r-xl); padding:32px;
  box-shadow:0 25px 70px rgba(2,6,23,.08);
  position:relative; overflow-y:auto;
  animation:float 10s ease-in-out infinite alternate;
}

/* viền neon mượt, sáng trong */
.content::before{
  content:""; position:absolute; inset:0; padding:2px; border-radius:inherit;
  background:linear-gradient(135deg,var(--n2),var(--n1),var(--n3),var(--ng),var(--np),var(--n2));
  background-size:350% 350%; animation:shimmer 14s linear infinite;
  -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;mask-composite:exclude;
  pointer-events:none; filter:drop-shadow(0 0 24px rgba(99,102,241,.35));
  opacity:0.95;
}

/* ===== HEADER ===== */
header{
  display:flex; justify-content:space-between; align-items:center; margin-bottom:24px;
}
header h2{
  font-size:32px; font-weight:900; margin:0;
  background:linear-gradient(135deg,#38bdf8,#818cf8,#a78bfa,#ec4899);
  background-size:250% 250%;
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  animation:shimmer 10s ease infinite;
  text-shadow:0 0 24px rgba(99,102,241,.25),0 0 48px rgba(168,85,247,.18);
  letter-spacing:0.5px;
}

/* ===== BUTTON – Logout ===== */
.btn-logout{
  background:linear-gradient(135deg,var(--nr),#b91c1c,#f43f5e);
  border:none;color:#fff;padding:10px 18px;border-radius:12px;font-weight:800;cursor:pointer;
  transition:all .25s ease;box-shadow:0 6px 20px rgba(239,68,68,.25);
  position:relative;overflow:hidden;
}
.btn-logout::before{
  content:"";position:absolute;inset:0;
  background:linear-gradient(120deg,transparent,rgba(255,255,255,.4),transparent);
  transform:skewX(-20deg);opacity:0;
}
.btn-logout:hover::before{animation:sweep 1.3s ease-out;}
.btn-logout:hover{
  transform:translateY(-2px) scale(1.03);
  box-shadow:0 10px 30px rgba(239,68,68,.35),0 0 20px rgba(239,68,68,.2);
}

/* ===== FORM ===== */
.schedule-form{
  position:relative;
  background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.65));
  border-radius:16px;padding:24px;margin-bottom:24px;
  box-shadow:0 12px 36px rgba(2,6,23,.08),0 2px 1px rgba(255,255,255,.6) inset;
  display:flex;align-items:center;gap:16px;flex-wrap:wrap;
  backdrop-filter:blur(10px)saturate(140%);
  animation:pulseGlow 5.5s ease-in-out infinite;
}
.schedule-form::after{
  content:"";position:absolute;left:0;right:0;bottom:0;height:2px;
  background:linear-gradient(90deg,var(--n2),var(--n1),var(--n3),var(--ng),var(--np),var(--n2));
  background-size:300% 300%;animation:shimmer 8s linear infinite;opacity:.95;border-radius:999px;
}
.schedule-form label{font-weight:800;color:#1e293b;}
.schedule-form input,.schedule-form select{
  padding:10px 14px;border:1px solid #cbd5e1;border-radius:10px;font-size:14px;background:#fff;
  transition:all .25s ease;
}
.schedule-form input:focus,.schedule-form select:focus{
  border-color:#60a5fa;outline:none;
  box-shadow:0 0 0 3px rgba(96,165,250,.25),0 0 18px rgba(99,102,241,.18);
}
.schedule-form button{
  background:linear-gradient(135deg,#6366f1,#9333ea,#22d3ee);
  color:#fff;border:none;padding:10px 18px;border-radius:10px;font-weight:800;cursor:pointer;
  background-size:220% 220%;box-shadow:0 8px 24px rgba(99,102,241,.25);
  transition:transform .2s ease,box-shadow .25s ease,background-position .45s ease;
}
.schedule-form button:hover{
  transform:translateY(-2px) scale(1.03);
  background-position:100% 0;
  box-shadow:0 12px 32px rgba(99,102,241,.4);
}

/* ===== STATISTICS ===== */
.summary-bar{
  display:flex;gap:20px;margin-bottom:28px;flex-wrap:wrap;
}
.summary-card{
  flex:1;min-width:220px;display:flex;align-items:center;gap:14px;
  padding:16px 18px;border-radius:16px;color:#fff;
  position:relative;overflow:hidden;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
  transition:transform .25s ease,box-shadow .25s ease;
}
.summary-card.free{
  background:linear-gradient(135deg,#10b981,#22d3ee,#3b82f6);
  background-size:300% 300%;animation:shimmer 8s ease infinite;
}
.summary-card.booked{
  background:linear-gradient(135deg,#ef4444,#fb7185,#f59e0b);
  background-size:300% 300%;animation:shimmer 8s ease infinite;
}
.summary-card:hover{
  transform:translateY(-3px);
  box-shadow:0 16px 32px rgba(0,0,0,.25);
}
.summary-card .icon{
  font-size:28px;background:rgba(255,255,255,.25);
  padding:10px;border-radius:12px;backdrop-filter:blur(3px);
}
.summary-card::after{
  content:"";position:absolute;top:0;left:-70%;width:40%;height:100%;
  background:linear-gradient(120deg,transparent,rgba(255,255,255,.5),transparent);
  transform:skewX(-18deg);opacity:0;
}
.summary-card:hover::after{opacity:1;animation:sweep 1.3s ease-out;}

/* ===== SCHEDULE GRID ===== */
.schedule-grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:16px;animation:float 7s ease-in-out infinite alternate;
}
.slot-card{
  border-radius:14px;text-align:center;padding:20px 10px;
  background:linear-gradient(180deg,rgba(255,255,255,.92),rgba(255,255,255,.8));
  border:1px solid #e2e8f0;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  position:relative;overflow:hidden;
  transition:all .3s ease;
}
.slot-card::after{
  content:"";position:absolute;top:0;left:0;width:100%;height:6px;
  border-radius:14px 14px 0 0;
  background:linear-gradient(90deg,var(--n2),var(--n1),var(--n3));
  background-size:250% 250%;animation:shimmer 6s linear infinite;opacity:.9;
}
.slot-card.free{color:#16a34a;border-color:#bbf7d0;}
.slot-card.booked{color:#b91c1c;border-color:#fecaca;}
.slot-card:hover{
  transform:translateY(-4px) scale(1.02);
  background:linear-gradient(180deg,#ffffff,#f9fafb);
  box-shadow:0 10px 26px rgba(99,102,241,.2);
}
.slot-card .time{font-weight:900;font-size:16px;margin-top:6px;color:var(--ink2);}
.slot-card .status{font-size:13px;margin-top:4px;opacity:.85;color:#334155;}
.slot-card .shine{
  content:"";position:absolute;top:0;left:-70%;width:50%;height:100%;
  background:linear-gradient(120deg,transparent,rgba(255,255,255,.35),transparent);
  transform:skewX(-18deg);opacity:0;pointer-events:none;
}
.slot-card:hover .shine{opacity:1;animation:sweep 1.2s ease-out;}

/* =======================
   FOOTER – Neon Frame Glow
   ======================= */
.footer-box {
  margin-top: auto;
  background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(248,250,252,0.95));
  border-radius: 18px;
  padding: 18px 20px;
  text-align: center;
  position: relative;
  overflow: hidden;
  box-shadow: 0 0 25px rgba(99,102,241,0.15), inset 0 1px 2px rgba(255,255,255,0.6);
}

/* Viền neon động quanh footer */
.footer-box::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 2px;
  background: linear-gradient(120deg, #38bdf8, #a855f7, #22d3ee, #10b981, #f43f5e, #38bdf8);
  background-size: 400% 400%;
  animation: footerFlow 10s linear infinite;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  opacity: 0.9;
  filter: drop-shadow(0 0 18px rgba(59,130,246,.3));
}

@keyframes footerFlow {
  0% { background-position: 0% 50%; filter: hue-rotate(0deg); }
  50% { background-position: 100% 50%; filter: hue-rotate(40deg); }
  100% { background-position: 0% 50%; filter: hue-rotate(360deg); }
}

/* Dòng chữ © bên trong */
.footer-text {
  font-weight: 700;
  font-size: 15px;
  background: linear-gradient(90deg, #38bdf8, #a855f7, #f472b6, #22d3ee);
  background-size: 300% 300%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientMove 8s ease infinite;
  letter-spacing: 0.3px;
  position: relative;
  z-index: 1;
  text-shadow: 0 0 10px rgba(147,51,234,0.25);
}

@keyframes gradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Ánh sáng quét qua dòng chữ */
.footer-text::after {
  content: "";
  position: absolute;
  top: 0;
  left: -70%;
  width: 40%;
  height: 100%;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,.5), transparent);
  transform: skewX(-18deg);
  opacity: 0;
}
.footer-text:hover::after {
  opacity: 1;
  animation: footerSweep 1.4s ease-out;
}

@keyframes footerSweep {
  0% { left: -70%; opacity: 0; }
  25% { opacity: 1; }
  70% { left: 110%; opacity: 1; }
  100% { left: 130%; opacity: 0; }
}
/* ===== Responsive polish ===== */
@media(max-width:768px){
  header h2{font-size:26px}
  .schedule-form{padding:18px}
  .summary-card{min-width:48%;}
  .slot-card{padding:16px 10px}
}
@media(prefers-reduced-motion:reduce){
  *{animation:none!important;transition:none!important}
}

</style>
</head>
<body>

  <aside class="sidebar">
  <div class="logo-section">
    <div class="logo">UTEScore</div>
    <div class="staff-info">
      <div class="staff-avatar">💎</div>
      <div class="staff-name" th:text="${nhanVienDangNhap?.fullName ?: 'Nhân viên'}">Nhân viên</div>
      <div class="staff-role">Bộ phận sân bóng</div>
    </div>
  </div>

  <div class="menu">
    <p class="menu-title">🏟️ Quản lý sân</p>
    <a href="/employee/booking"  class="menu-link"><span class="menu-icon">📋</span>Đơn đặt sân</a>
    <a href="/employee/checkin"  class="menu-link"><span class="menu-icon">🎫</span>Check-in khách</a>
    <a href="/employee/payment"  class="menu-link"><span class="menu-icon">💰</span>Thanh toán</a>
    <a href="/employee/refund"   class="menu-link"><span class="menu-icon">👥</span>Hoàn tiền</a>
    <a href="/employee/schedule" class="menu-link"><span class="menu-icon">📅</span>Lịch sân</a>

    <p class="menu-title">📢 Báo cáo & Thông tin</p>
    <a href="/employee/incidents" class="menu-link"><span class="menu-icon">⚠️</span>Sự cố / Ghi chú</a>
    <a href="/employee/report"    class="menu-link"><span class="menu-icon">📊</span>Thống kê công việc</a>
    <a href="/chat/employee"    class="menu-link"><span class="menu-icon">💌</span>Trả lời khách hàng</a>

    <p class="menu-title">⚙️ Cá nhân</p>
    <a href="/employee/profile" class="menu-link"><span class="menu-icon">👤</span>Thông tin cá nhân</a>
    <a href="/logout"           class="menu-link"><span class="menu-icon">🚪</span>Đăng xuất</a>
  </div>
</aside>

  <!-- CONTENT -->
  <section class="content">
    <header>
      <h2>Lịch đặt sân</h2>
    </header>

    <!-- Form chọn ngày + sân -->
    <div class="schedule-form">
      <form method="get" th:action="@{/employee/schedule}">
        <label>📆 Chọn ngày:</label>
        <input type="date" name="date" th:value="${selectedDate}" required>

        <label>⚽ Chọn sân:</label>
        <select name="sanId" required>
          <option th:each="s : ${sanList}"
                  th:value="${s.maSan}"
                  th:text="${s.tenSan}"
                  th:selected="${selectedSan != null and selectedSan.maSan == s.maSan}">
          </option>
        </select>

        <button type="submit">🔍 Xem lịch</button>
      </form>
    </div>

    <!-- Thống kê nhanh -->
    <div class="summary-bar" th:if="${slots.size() > 0}">
      <div class="summary-card free">
        <span class="icon">✅</span>
        <div>
          <h4 th:text="${#lists.size(slots.?[status == 'Trống'])}"></h4>
          <p>Khung trống</p>
        </div>
      </div>
      <div class="summary-card booked">
        <span class="icon">❌</span>
        <div>
          <h4 th:text="${#lists.size(slots.?[status == 'Đã đặt'])}"></h4>
          <p>Đã đặt</p>
        </div>
      </div>
    </div>

    <!-- Lịch khung giờ -->
    <div class="schedule-grid" th:if="${slots.size() > 0}">
      <div th:each="slot : ${slots}"
           th:class="'slot-card ' + (${slot.status == 'Đã đặt'} ? 'booked' : 'free')">
        <div class="time" th:text="${slot.time}"></div>
        <div class="status" th:text="${slot.status}"></div>
      </div>
    </div>

    <div class="footer-box">
  <p class="footer-text">UTEScore - Employee</p>
</div>
  </section>
</body>
</html>
